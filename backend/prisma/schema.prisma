generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String        @id @default(cuid())
  email         String        @unique
  nome_completo String?
  role          Role          @default(SOLICITANTE)
  foto_perfil   String?
  solicitacoes  Solicitacao[]
  created_at    DateTime      @default(now())
}

enum Role {
  SOLICITANTE
  ADMIN
}

enum ModoImpressao{
  FRENTE
  FRENTE_VERSO
}

model Solicitacao {
  id                     String   @id @default(cuid())
  User                   User     @relation(fields: [id_usuario], references: [id])
  id_usuario             String
  url_arquivo_armazenado String?
  tipo_documento         String
  numero_copias          Int
  copias_solicitadas     Int?
  paginas_documento      Int     @default(1)
  modo_impressao         ModoImpressao @default(FRENTE_VERSO) 
  observacoes            String?
  status                 String   @default("Pendente")
  created_at             DateTime @default(now())
  updated_at             DateTime @updatedAt
}